{"ast":null,"code":"import _classCallCheck from\"/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this._url=config.url;this._headers=config.headers;}_createClass(Api,[{key:\"editProfileAvatar\",value:function editProfileAvatar(avatar){return fetch(\"\".concat(this._url,'users/me/avatar'),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"getUserInfoFromServer\",value:function getUserInfoFromServer(){return fetch(\"\".concat(this._url,'users/me'),{method:\"GET\",headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"getAvatarFromServer\",value:function getAvatarFromServer(){return fetch(\"\".concat(this._url,'users/me/avatar'),{method:\"GET\",headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"setUserInfoOnServer\",value:function setUserInfoOnServer(name,about){return fetch(\"\".concat(this._url,'users/me'),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"getCardsInformation\",value:function getCardsInformation(){return fetch(\"\".concat(this._url,'cards'),{method:\"GET\",headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"addCards\",value:function addCards(name,link){return fetch(\"\".concat(this._url,'cards'),{method:\"POST\",headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this._url,'cards/').concat(cardId),{method:\"DELETE\",headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,like){return fetch(\"\".concat(this._url,'cards/likes/').concat(cardId),{method:like?\"PUT\":\"DELETE\",headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}}]);return Api;}();var api=new Api({url:\"https://mesto.nomoreparties.co/v1/cohort-18/\",headers:{\"Authorization\":\"6b4f0e7a-6b81-4fab-971b-4da07f00c7c0\",'Content-Type':'application/json'}});export default api;","map":{"version":3,"sources":["/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/utils/Api.js"],"names":["Api","config","_url","url","_headers","headers","avatar","fetch","method","body","JSON","stringify","then","res","ok","json","Promise","reject","status","name","about","link","cardId","like","api"],"mappings":"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","sourcesContent":["class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n\n    editProfileAvatar(avatar) {\n        return fetch(`${this._url}${'users/me/avatar'}`, {\n            method: \"PATCH\",\n            headers: this._headers, \n            body: JSON.stringify({\n                avatar: avatar\n            })       \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    getUserInfoFromServer() {\n        return fetch(`${this._url}${'users/me'}`, {\n            method: \"GET\",\n            headers: this._headers        \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    getAvatarFromServer() {\n        return fetch(`${this._url}${'users/me/avatar'}`, {\n            method: \"GET\",\n            headers: this._headers        \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    setUserInfoOnServer(name, about) {\n        return fetch(`${this._url}${'users/me'}`, {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name: name,\n                about: about\n            })       \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    getCardsInformation() {\n        return fetch(`${this._url}${'cards'}`, {\n            method: \"GET\",\n            headers: this._headers        \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    addCards(name, link) {\n        return fetch(`${this._url}${'cards'}`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name: name,\n                link: link\n            })       \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._url}${'cards/'}${cardId}`, {\n            method: \"DELETE\",\n            headers: this._headers,   \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n\n    changeLikeCardStatus(cardId, like) {\n        return fetch(`${this._url}${'cards/likes/'}${cardId}`, {\n            method: like ? \"PUT\" : \"DELETE\",\n            headers: this._headers      \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n}\n\n\n\nconst api = new Api({\n    url: \"https://mesto.nomoreparties.co/v1/cohort-18/\",\n    headers: {\n        \"Authorization\": \"6b4f0e7a-6b81-4fab-971b-4da07f00c7c0\",\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api;"]},"metadata":{},"sourceType":"module"}