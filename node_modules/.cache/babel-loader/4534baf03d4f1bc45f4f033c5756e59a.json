{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/vatc/Desktop/praktikum/mesto-react/src/components/EditAvatarPopup.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup({\n  isOpen,\n  onClose,\n  onUpdateAvatar\n}) {\n  _s();\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const inputAvatarRef = React.useRef(\"\");\n  const [avatar, setAvatar] = React.useState('');\n  React.useEffect(() => {\n    setAvatar(currentUser.avatar);\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: inputAvatarRef.current.value\n    });\n  }\n\n  function handleChangeAvatar(e) {\n    setAvatar(e.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",\n    popupName: \"avatar\",\n    formName: \"form_update\",\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"popup__input popup__input_link-avatar popup__input_link\",\n      type: \"url\",\n      name: \"avatar\",\n      value: avatar ? avatar : \"\",\n      ref: inputAvatarRef,\n      onChange: handleChangeAvatar,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditAvatarPopup, \"HOzBuuTwgk6LFvs7kdqnmumrFaI=\");\n\n_c = EditAvatarPopup;\nexport default EditAvatarPopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditAvatarPopup\");","map":{"version":3,"sources":["/Users/vatc/Desktop/praktikum/mesto-react/src/components/EditAvatarPopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditAvatarPopup","isOpen","onClose","onUpdateAvatar","currentUser","useContext","inputAvatarRef","useRef","avatar","setAvatar","useState","useEffect","handleSubmit","e","preventDefault","current","value","handleChangeAvatar","target"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,kBAAT,QAAmC,gCAAnC;;AAEA,SAASC,eAAT,CAAyB;AAAEC,EAAAA,MAAF;AAAUC,EAAAA,OAAV;AAAoBC,EAAAA;AAApB,CAAzB,EAA8D;AAAA;;AAE1D,QAAMC,WAAW,GAAGP,KAAK,CAACQ,UAAN,CAAiBN,kBAAjB,CAApB;AACA,QAAMO,cAAc,GAAGT,KAAK,CAACU,MAAN,CAAa,EAAb,CAAvB;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBZ,KAAK,CAACa,QAAN,CAAe,EAAf,CAA5B;AAEAb,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AAClBF,IAAAA,SAAS,CAACL,WAAW,CAACI,MAAb,CAAT;AACH,GAFD,EAEG,CAACJ,WAAD,CAFH;;AAKA,WAASQ,YAAT,CAAsBC,CAAtB,EAAyB;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACAX,IAAAA,cAAc,CAAC;AACXK,MAAAA,MAAM,EAAEF,cAAc,CAACS,OAAf,CAAuBC;AADpB,KAAD,CAAd;AAGH;;AAED,WAASC,kBAAT,CAA4BJ,CAA5B,EAA+B;AAC3BJ,IAAAA,SAAS,CAACI,CAAC,CAACK,MAAF,CAASF,KAAV,CAAT;AACH;;AAED,sBACI,QAAC,aAAD;AACI,IAAA,MAAM,EAAEf,MADZ;AAEI,IAAA,OAAO,EAAEC,OAFb;AAGI,IAAA,KAAK,EAAC,uFAHV;AAII,IAAA,SAAS,EAAC,QAJd;AAKI,IAAA,QAAQ,EAAC,aALb;AAMI,IAAA,QAAQ,EAAEU,YANd;AAAA,2BAQI;AACI,MAAA,SAAS,EAAC,yDADd;AAEI,MAAA,IAAI,EAAC,KAFT;AAGI,MAAA,IAAI,EAAC,QAHT;AAII,MAAA,KAAK,EAAEJ,MAAM,GAAGA,MAAH,GAAY,EAJ7B;AAKI,MAAA,GAAG,EAAEF,cALT;AAMI,MAAA,QAAQ,EAAEW,kBANd;AAOI,MAAA,QAAQ;AAPZ;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAoBH;;GA1CQjB,e;;KAAAA,e;AA4CT,eAAeA,eAAf","sourcesContent":["import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup({ isOpen, onClose,  onUpdateAvatar}) {\n  \n    const currentUser = React.useContext(CurrentUserContext);\n    const inputAvatarRef = React.useRef(\"\");\n    const [avatar, setAvatar] = React.useState('');\n\n    React.useEffect(() => {\n        setAvatar(currentUser.avatar);\n    }, [currentUser]);\n\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({ \n            avatar: inputAvatarRef.current.value  \n        });\n    }\n\n    function handleChangeAvatar(e) {\n        setAvatar(e.target.value);\n    }\n\n    return (\n        <PopupWithForm\n            isOpen={isOpen}\n            onClose={onClose}\n            title=\"Обновить аватар\"\n            popupName=\"avatar\"\n            formName=\"form_update\"\n            onSubmit={handleSubmit}\n        >\n            <input \n                className=\"popup__input popup__input_link-avatar popup__input_link\" \n                type=\"url\" \n                name=\"avatar\" \n                value={avatar ? avatar : \"\"}\n                ref={inputAvatarRef}\n                onChange={handleChangeAvatar}\n                required \n            />   \n        </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;"]},"metadata":{},"sourceType":"module"}