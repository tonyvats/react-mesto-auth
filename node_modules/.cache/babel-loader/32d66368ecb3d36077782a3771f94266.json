{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/vatc/Desktop/praktikum/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar;var currentUser=React.useContext(CurrentUserContext);var inputAvatarRef=React.useRef(\"\");var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),avatar=_React$useState2[0],setAvatar=_React$useState2[1];React.useEffect(function(){setAvatar(currentUser.avatar);},[currentUser]);function handleSubmit(e){e.preventDefault();onUpdateAvatar({avatar:inputAvatarRef.current.value});}function handleChangeAvatar(e){setAvatar(e.target.value);}return/*#__PURE__*/_jsx(PopupWithForm,{isOpen:isOpen,onClose:onClose,title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",popupName:\"avatar\",formName:\"form_update\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_link-avatar popup__input_link\",type:\"url\",name:\"avatar\",value:avatar?avatar:\"\",ref:inputAvatarRef,onChange:handleChangeAvatar,required:true})});}export default EditAvatarPopup;","map":{"version":3,"sources":["/Users/vatc/Desktop/praktikum/mesto-react/src/components/EditAvatarPopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditAvatarPopup","isOpen","onClose","onUpdateAvatar","currentUser","useContext","inputAvatarRef","useRef","useState","avatar","setAvatar","useEffect","handleSubmit","e","preventDefault","current","value","handleChangeAvatar","target"],"mappings":"2MAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CAEA,QAASC,CAAAA,eAAT,MAA8D,IAAnCC,CAAAA,MAAmC,MAAnCA,MAAmC,CAA3BC,OAA2B,MAA3BA,OAA2B,CAAjBC,cAAiB,MAAjBA,cAAiB,CAE1D,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBN,kBAAjB,CAApB,CACA,GAAMO,CAAAA,cAAc,CAAGT,KAAK,CAACU,MAAN,CAAa,EAAb,CAAvB,CAH0D,oBAI9BV,KAAK,CAACW,QAAN,CAAe,EAAf,CAJ8B,oDAInDC,MAJmD,qBAI3CC,SAJ2C,qBAM1Db,KAAK,CAACc,SAAN,CAAgB,UAAM,CAClBD,SAAS,CAACN,WAAW,CAACK,MAAb,CAAT,CACH,CAFD,CAEG,CAACL,WAAD,CAFH,EAKA,QAASQ,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACrBA,CAAC,CAACC,cAAF,GACAX,cAAc,CAAC,CACXM,MAAM,CAAEH,cAAc,CAACS,OAAf,CAAuBC,KADpB,CAAD,CAAd,CAGH,CAED,QAASC,CAAAA,kBAAT,CAA4BJ,CAA5B,CAA+B,CAC3BH,SAAS,CAACG,CAAC,CAACK,MAAF,CAASF,KAAV,CAAT,CACH,CAED,mBACI,KAAC,aAAD,EACI,MAAM,CAAEf,MADZ,CAEI,OAAO,CAAEC,OAFb,CAGI,KAAK,CAAC,uFAHV,CAII,SAAS,CAAC,QAJd,CAKI,QAAQ,CAAC,aALb,CAMI,QAAQ,CAAEU,YANd,uBAQI,cACI,SAAS,CAAC,yDADd,CAEI,IAAI,CAAC,KAFT,CAGI,IAAI,CAAC,QAHT,CAII,KAAK,CAAEH,MAAM,CAAGA,MAAH,CAAY,EAJ7B,CAKI,GAAG,CAAEH,cALT,CAMI,QAAQ,CAAEW,kBANd,CAOI,QAAQ,KAPZ,EARJ,EADJ,CAoBH,CAED,cAAejB,CAAAA,eAAf","sourcesContent":["import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup({ isOpen, onClose,  onUpdateAvatar}) {\n  \n    const currentUser = React.useContext(CurrentUserContext);\n    const inputAvatarRef = React.useRef(\"\");\n    const [avatar, setAvatar] = React.useState('');\n\n    React.useEffect(() => {\n        setAvatar(currentUser.avatar);\n    }, [currentUser]);\n\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({ \n            avatar: inputAvatarRef.current.value  \n        });\n    }\n\n    function handleChangeAvatar(e) {\n        setAvatar(e.target.value);\n    }\n\n    return (\n        <PopupWithForm\n            isOpen={isOpen}\n            onClose={onClose}\n            title=\"Обновить аватар\"\n            popupName=\"avatar\"\n            formName=\"form_update\"\n            onSubmit={handleSubmit}\n        >\n            <input \n                className=\"popup__input popup__input_link-avatar popup__input_link\" \n                type=\"url\" \n                name=\"avatar\" \n                value={avatar ? avatar : \"\"}\n                ref={inputAvatarRef}\n                onChange={handleChangeAvatar}\n                required \n            />   \n        </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;"]},"metadata":{},"sourceType":"module"}