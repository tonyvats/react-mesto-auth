{"code":"(this[\"webpackJsonpmesto-react\"]=this[\"webpackJsonpmesto-react\"]||[]).push([[0],{28:function(e,t,n){},38:function(e,t,n){\"use strict\";n.r(t);var a=n(1),c=n.n(a),s=n(17),o=n.n(s),i=(n(28),n(21)),r=n(2),u=n(3),l=n.p+\"static/media/logo.a307e1c4.svg\",p=n(8),d=n(0);var j=function(e){var t=Object(d.jsxs)(\"nav\",{className:\"header__container\",children:[Object(d.jsx)(u.b,{path:\"/sign-up\",children:Object(d.jsx)(p.c,{className:\"header__link\",to:\"/sign-in\",children:\"\\u0412\\u043e\\u0439\\u0442\\u0438\"})}),Object(d.jsx)(u.b,{path:\"/sign-in\",children:Object(d.jsx)(p.c,{className:\"header__link\",to:\"/sign-up\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044f\"})}),Object(d.jsx)(u.b,{exact:!0,path:\"/\",children:Object(d.jsxs)(\"div\",{className:\"header__container\",children:[Object(d.jsx)(\"p\",{className:\"header__email\",children:e.email}),Object(d.jsx)(\"button\",{className:\"header__button-logout\",onClick:e.loggedOut,children:\"\\u0412\\u044b\\u0439\\u0442\\u0438\"})]})})]});return Object(d.jsxs)(\"header\",{className:\"header\",children:[Object(d.jsx)(\"img\",{className:\"logo\",src:l,alt:\"\\u0438\\u0437\\u043e\\u0431\\u0440\\u0430\\u0436\\u0435\\u043d\\u0438\\u0435 \\u043b\\u043e\\u0433\\u043e\"}),t]})};var h=function(){return Object(d.jsx)(\"footer\",{className:\"footer\",children:Object(d.jsx)(\"p\",{className:\"footer__copyright\",children:\"\\xa9\\xa02020 Mesto Russia\"})})},m=c.a.createContext();var b=function(e){var t=e.card,n=e.onCardClick,a=e.onCardLike,s=e.onDeleteCard,o=c.a.useContext(m),i=t.owner._id===o._id,r=\"photo-grid__delete-btn \".concat(i?\"photo-grid__delete-btn_visible\":\"photo-grid__delete-btn_hidden\"),u=t.likes.some((function(e){return e._id===o._id})),l=\"photo-grid__like-btn \".concat(u?\"photo-grid__like-btn_active\":\"\");return Object(d.jsxs)(\"div\",{className:\"photo-grid__item\",children:[Object(d.jsx)(\"button\",{type:\"button\",className:r,onClick:function(){s(t)}}),Object(d.jsx)(\"img\",{className:\"photo-grid__image\",src:t.link,alt:t.name,onClick:function(){n(t)}}),Object(d.jsxs)(\"div\",{className:\"photo-grid__rectangle\",children:[Object(d.jsx)(\"h2\",{className:\"photo-grid__title\",children:t.name}),Object(d.jsxs)(\"div\",{className:\"photo-grid__like-place\",children:[Object(d.jsx)(\"button\",{type:\"button\",className:l,onClick:function(){a(t)}}),Object(d.jsx)(\"span\",{className:\"photo-grid__like-count\",children:t.likes.length})]})]})]})};var _=function(e){var t=e.onEditAvatar,n=e.onEditProfile,a=e.onAddPlace,s=e.onCardClick,o=e.onCardList,i=e.onCardLike,r=e.onDeleteCard,u=c.a.useContext(m);return Object(d.jsxs)(\"main\",{className:\"content\",children:[Object(d.jsxs)(\"section\",{className:\"profile\",children:[Object(d.jsx)(\"div\",{className:\"profile__avatar-container\",onClick:t,children:Object(d.jsx)(\"img\",{className:\"profile__avatar-icon\",src:u.avatar,alt:\"\\u0444\\u043e\\u0442\\u043e \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u0430\"})}),Object(d.jsxs)(\"div\",{className:\"profile__info\",children:[Object(d.jsx)(\"h1\",{className:\"profile__title\",children:u.name}),Object(d.jsx)(\"p\",{className:\"profile__subtitle\",children:u.about}),Object(d.jsx)(\"button\",{type:\"button\",className:\"profile__edit-btn\",onClick:n})]}),Object(d.jsx)(\"button\",{type:\"button\",className:\"profile__add-btn\",onClick:a})]}),Object(d.jsx)(\"section\",{className:\"photo-grid\",children:o.map((function(e){return Object(d.jsx)(b,{card:e,onCardClick:s,onCardLike:i,onDeleteCard:r},e._id)}))})]})};var f=function(e){var t=e.isOpen,n=e.onClose,a=e.title,c=e.popupName,s=e.formName,o=e.children,i=e.onSubmit;return Object(d.jsx)(\"div\",{className:\"popup popup__\".concat(c,\" \").concat(t&&\"popup_opened\"),children:Object(d.jsxs)(\"div\",{className:\"popup__container\",children:[Object(d.jsx)(\"button\",{type:\"button\",className:\"popup__close-btn\",onClick:n}),Object(d.jsxs)(\"div\",{className:\"popup__content\",children:[Object(d.jsx)(\"h2\",{className:\"popup__title\",children:a}),Object(d.jsxs)(\"form\",{name:\"edit\",method:\"POST\",className:\"popup__form popup__\".concat(s),onSubmit:i,children:[o,Object(d.jsx)(\"button\",{type:\"submit\",className:\"popup__save-btn\",children:\"\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c\"})]})]})]})})};var O=function(e){var t=e.isOpen,n=e.onClose,a=e.onAddCard,s=c.a.useState(\"\"),o=Object(r.a)(s,2),i=o[0],u=o[1],l=c.a.useState(\"\"),p=Object(r.a)(l,2),j=p[0],h=p[1];return c.a.useEffect((function(){h(\"\"),u(\"\")}),[t]),Object(d.jsxs)(f,{isOpen:t,onClose:n,title:\"\\u041d\\u043e\\u0432\\u043e\\u0435 \\u043c\\u0435\\u0441\\u0442\\u043e\",popupName:\"update\",formName:\"form_update\",onSubmit:function(e){e.preventDefault(),a({name:i,link:j})},children:[Object(d.jsxs)(\"div\",{className:\"popup__field\",children:[Object(d.jsx)(\"input\",{type:\"text\",id:\"empty-title-input\",name:\"name\",placeholder:\"\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435\",className:\"popup__input popup__input_title\",required:!0,minLength:\"2\",maxLength:\"30\",onChange:function(e){u(e.target.value)},value:i||\"\"}),Object(d.jsx)(\"span\",{id:\"empty-title-input-error\"})]}),Object(d.jsxs)(\"div\",{className:\"popup__field\",children:[Object(d.jsx)(\"input\",{type:\"url\",id:\"empty-link-input\",name:\"link\",placeholder:\"\\u0421\\u0441\\u044b\\u043b\\u043a\\u0430 \\u043d\\u0430 \\u043a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0443\",className:\"popup__input popup__input_link\",required:!0,onChange:function(e){h(e.target.value)},value:j||\"\"}),Object(d.jsx)(\"span\",{id:\"empty-link-input-error\"})]})]})};var g=function(e){var t=e.isOpen,n=e.onClose,a=e.onUpdateUser,s=c.a.useContext(m),o=c.a.useState(\"\"),i=Object(r.a)(o,2),u=i[0],l=i[1],p=c.a.useState(\"\"),j=Object(r.a)(p,2),h=j[0],b=j[1];return c.a.useEffect((function(){l(s.name),b(s.about)}),[s]),Object(d.jsxs)(f,{isOpen:t,onClose:n,title:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u043f\\u0440\\u043e\\u0444\\u0438\\u043b\\u044c\",popupName:\"edit\",formName:\"form_edit\",onSubmit:function(e){e.preventDefault(),a({name:u,about:h})},children:[Object(d.jsxs)(\"div\",{className:\"popup__field\",children:[Object(d.jsx)(\"input\",{type:\"text\",id:\"empty-name-input\",name:\"nameInput\",className:\"popup__input popup__input_name\",required:!0,minLength:\"2\",maxLength:\"40\",value:u||\"\",onChange:function(e){l(e.target.value)}}),Object(d.jsx)(\"span\",{id:\"empty-name-input-error\"})]}),Object(d.jsxs)(\"div\",{className:\"popup__field\",children:[Object(d.jsx)(\"input\",{type:\"text\",id:\"empty-job-input\",name:\"jobInput\",className:\"popup__input popup__input_job\",required:!0,minLength:\"2\",maxLength:\"200\",value:h||\"\",onChange:function(e){b(e.target.value)}}),Object(d.jsx)(\"span\",{id:\"empty-job-input-error\"})]})]})};var v=function(e){var t=e.isOpen,n=e.onClose,a=e.onUpdateAvatar,s=c.a.useRef(\"\");return Object(d.jsx)(f,{isOpen:t,onClose:n,title:\"\\u041e\\u0431\\u043d\\u043e\\u0432\\u0438\\u0442\\u044c \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",popupName:\"avatar\",formName:\"form_update\",onSubmit:function(e){e.preventDefault(),a({avatar:s.current.value})},children:Object(d.jsx)(\"input\",{className:\"popup__input popup__input_link-avatar popup__input_link\",type:\"url\",name:\"avatar\",ref:s,required:!0})})};var x=function(e){var t=e.card,n=e.isOpen,a=e.onClose;return Object(d.jsx)(\"div\",{className:\"popup popup__photo \".concat(n&&\"popup_opened\"),children:Object(d.jsxs)(\"div\",{className:\"popup__container\",children:[Object(d.jsx)(\"button\",{type:\"button\",className:\"popup__close-btn\",onClick:a}),Object(d.jsx)(\"img\",{className:\"popup__photo-fullscreen\",src:null===t||void 0===t?void 0:t.link,alt:null===t||void 0===t?void 0:t.name}),Object(d.jsx)(\"h2\",{className:\"popup__photo-title\",children:null===t||void 0===t?void 0:t.name})]})})},N=n(19),C=n(20),k=new(function(){function e(t){Object(N.a)(this,e),this._url=t.url,this._headers=t.headers}return Object(C.a)(e,[{key:\"editProfileAvatar\",value:function(e){return fetch(\"\".concat(this._url,\"users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}))}},{key:\"getUserInfoFromServer\",value:function(){return fetch(\"\".concat(this._url,\"users/me\"),{method:\"GET\",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}))}},{key:\"getAvatarFromServer\",value:function(){return fetch(\"\".concat(this._url,\"users/me/avatar\"),{method:\"GET\",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}))}},{key:\"setUserInfoOnServer\",value:function(e,t){return fetch(\"\".concat(this._url,\"users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}))}},{key:\"getCardsInformation\",value:function(){return fetch(\"\".concat(this._url,\"cards\"),{method:\"GET\",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}))}},{key:\"addCards\",value:function(e,t){return fetch(\"\".concat(this._url,\"cards\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}))}},{key:\"deleteCard\",value:function(e){return fetch(\"\".concat(this._url,\"cards/\").concat(e),{method:\"DELETE\",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}))}},{key:\"changeLikeCardStatus\",value:function(e,t){return fetch(\"\".concat(this._url,\"cards/likes/\").concat(e),{method:t?\"PUT\":\"DELETE\",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}))}}]),e}())({url:\"https://mesto.nomoreparties.co/v1/cohort-18/\",headers:{Authorization:\"6b4f0e7a-6b81-4fab-971b-4da07f00c7c0\",\"Content-Type\":\"application/json\"}}),S=n(22),y=n(23),L=function(e){var t=e.component,n=Object(y.a)(e,[\"component\"]);return Object(d.jsx)(u.b,{children:function(){return n.loggedIn?Object(d.jsx)(t,Object(S.a)({},n)):Object(d.jsx)(u.a,{to:\"./sign-in\"})}})};var P=Object(u.h)((function(e){var t=c.a.useState(\"\"),n=Object(r.a)(t,2),a=n[0],s=n[1],o=c.a.useState(\"\"),i=Object(r.a)(o,2),u=i[0],l=i[1];function p(t){t.preventDefault(),u&&a&&e.handleLogin(u,a)}return Object(d.jsxs)(\"div\",{className:\"register\",children:[Object(d.jsx)(\"h2\",{className:\"register__title\",children:\"\\u0412\\u0445\\u043e\\u0434\"}),Object(d.jsxs)(\"form\",{className:\"register__form\",onSubmit:p,children:[Object(d.jsx)(\"input\",{className:\"register__input\",placeholder:\"email\",type:\"email\",required:!0,minLength:\"2\",value:u,maxLength:\"40\",onChange:function(e){l(e.target.value)}}),Object(d.jsx)(\"input\",{className:\"register__input\",placeholder:\"\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c\",type:\"password\",required:!0,minLength:\"2\",value:a,maxLength:\"40\",onChange:function(e){s(e.target.value)}}),Object(d.jsx)(\"button\",{type:\"submit\",className:\"register__button-save\",onSubmit:p,children:\"\\u0412\\u043e\\u0439\\u0442\\u0438\"})]})]})}));var E=Object(u.h)((function(e){var t=e.handleRegister,n=Object(a.useState)(\"\"),c=Object(r.a)(n,2),s=c[0],o=c[1],i=Object(a.useState)(\"\"),u=Object(r.a)(i,2),l=u[0],j=u[1];function h(e){e.preventDefault(),t(l,s),o(\"\"),j(\"\")}return Object(d.jsxs)(\"div\",{className:\"register\",children:[Object(d.jsx)(\"h2\",{className:\"register__title\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044f\"}),Object(d.jsxs)(\"form\",{className:\"register__form\",onSubmit:h,children:[Object(d.jsx)(\"input\",{className:\"register__input\",placeholder:\"email\",type:\"email\",required:!0,minLength:\"2\",maxLength:\"40\",value:l,onChange:function(e){j(e.target.value)}}),Object(d.jsx)(\"input\",{className:\"register__input\",placeholder:\"\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c\",type:\"password\",required:!0,minLength:\"2\",maxLength:\"40\",value:s,onChange:function(e){o(e.target.value)}}),Object(d.jsx)(\"button\",{type:\"submit\",className:\"register__button-save\",onSubmit:h,children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c\\u0441\\u044f\"})]}),Object(d.jsxs)(\"div\",{className:\"register__signin\",children:[Object(d.jsx)(\"p\",{children:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u044b?\"}),Object(d.jsx)(p.b,{to:\"sign-in\",className:\"register__register-link\",children:\" \\u0412\\u043e\\u0439\\u0442\\u0438\"})]})]})})),T=n.p+\"static/media/success.1b6082f8.svg\",A=n.p+\"static/media/error.df8eddf6.svg\",I=n.p+\"static/media/close_icon.0a2678e1.svg\";var q=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(\"div\",{className:\"popup \".concat(e.isOpen?\"popup_opened\":\" \"),children:Object(d.jsxs)(\"div\",{className:\"popup__tooltip-container\",children:[Object(d.jsx)(\"img\",{className:\"popup__tooltip-image\",src:e.isRequestSuccessful?T:A,alt:\"\\u0418\\u043a\\u043e\\u043d\\u043a\\u0430\"}),Object(d.jsx)(\"h2\",{className:\"popup__tooltip-title\",children:e.isRequestSuccessful?\"\\u0412\\u044b \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u043b\\u0438\\u0441\\u044c!\":\"\\u0427\\u0442\\u043e-\\u0442\\u043e \\u043f\\u043e\\u0448\\u043b\\u043e \\u043d\\u0435 \\u0442\\u0430\\u043a! \\u041f\\u043e\\u043f\\u0440\\u043e\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0435 \\u0440\\u0430\\u0437.\"}),Object(d.jsx)(\"button\",{className:\"popup__tooltip-close-button\",type:\"reset\",onClick:e.onClose,children:Object(d.jsx)(\"img\",{src:I,className:\"popup__tooltip-close-image\",alt:\"\\u0417\\u0430\\u043a\\u0440\\u044b\\u0442\\u044c\"})})]})})})},D=\"https://auth.nomoreparties.co\";var w=function(){var e=Object(u.g)(),t=c.a.useState(!1),n=Object(r.a)(t,2),a=n[0],s=n[1],o=c.a.useState(!1),l=Object(r.a)(o,2),p=l[0],b=l[1],f=c.a.useState(!1),N=Object(r.a)(f,2),C=N[0],S=N[1],y=c.a.useState(!1),T=Object(r.a)(y,2),A=T[0],I=T[1],w=c.a.useState(null),U=Object(r.a)(w,2),F=U[0],J=U[1],R=c.a.useState([]),G=Object(r.a)(R,2),B=G[0],z=G[1],H=c.a.useState({}),M=Object(r.a)(H,2),K=M[0],Q=M[1],V=c.a.useState(!1),W=Object(r.a)(V,2),X=W[0],Y=W[1],Z=c.a.useState(!1),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=c.a.useState(\"\"),ae=Object(r.a)(ne,2),ce=ae[0],se=ae[1],oe=c.a.useState(!1),ie=Object(r.a)(oe,2),re=ie[0],ue=ie[1];function le(){s(!1),b(!1),S(!1),I(null),te(!1)}function pe(){var t,n=localStorage.getItem(\"jwt\");n&&(t=n,fetch(\"\".concat(D,\"/users/me\"),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)}}).then((function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}))).then((function(t){t&&(Y(!0),se(t.data.email),e.push(\"/\"))})).catch((function(e){console.log(e)}))}return c.a.useEffect((function(){Promise.all([k.getUserInfoFromServer(),k.getCardsInformation()]).then((function(e){Q(e[0]),z(e[1])})).catch((function(e){return console.error(e)}))}),[]),c.a.useEffect((function(){pe()}),[X]),Object(d.jsxs)(\"div\",{className:\"page\",children:[Object(d.jsxs)(m.Provider,{value:K,children:[Object(d.jsx)(j,{email:ce,loggedOut:function(){Y(!1),se(ce),localStorage.removeItem(\"jwt\"),e.push(\"/sign-in\")},loggedIn:X}),Object(d.jsxs)(u.d,{children:[Object(d.jsx)(L,{exact:!0,path:\"/\",loggedIn:X,component:_,onEditAvatar:function(){s(!0)},onEditProfile:function(){b(!0)},onAddPlace:function(){S(!0)},onCardClick:function(e){I(!0),J(e)},onCardList:B,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===K._id}));k.changeLikeCardStatus(e._id,!t).then((function(t){var n=B.map((function(n){return n._id===e._id?t:n}));z(n)})).catch((function(e){return console.error(e)}))},onDeleteCard:function(e){k.deleteCard(e._id).then((function(){z(B.filter((function(t){return t._id!==e._id})))})).catch((function(e){return console.error(e)}))}}),Object(d.jsx)(u.b,{path:\"/sign-in\",children:Object(d.jsx)(P,{handleLogin:function(t,n){(function(e,t){return fetch(\"\".concat(D,\"/signin\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({email:e,password:t})}).then((function(e){return 400===e.status&&console.log(\"\\u041d\\u0435 \\u043f\\u0435\\u0440\\u0435\\u0434\\u0430\\u043d\\u043e \\u043e\\u0434\\u043d\\u043e \\u0438\\u0437 \\u043f\\u043e\\u043b\\u0435\\u0439\"),401===e.status&&console.log(\"\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044c \\u0441 email \\u043d\\u0435 \\u043d\\u0430\\u0439\\u0434\\u0435\\u043d \"),e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430 \".concat(e.status))}))})(t,n).then((function(t){t.token&&(Y(!0),localStorage.setItem(\"jwt\",t.token),e.push(\"/\"))})).catch((function(e){console.log(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e)),te(!0),ue(!1)}))},setEmail:se})}),Object(d.jsx)(u.b,{path:\"/sign-up\",children:Object(d.jsx)(E,{handleRegister:function(t,n){(function(e,t){return fetch(\"\".concat(D,\"/signup\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({email:e,password:t})}).then((function(e){return 400===e.status&&console.log(\"\\u041d\\u0435\\u043a\\u043e\\u0440\\u0440\\u0435\\u043a\\u0442\\u043d\\u043e \\u0437\\u0430\\u043f\\u043e\\u043b\\u043d\\u0435\\u043d\\u043e \\u043e\\u0434\\u043d\\u043e \\u0438\\u0437 \\u043f\\u043e\\u043b\\u0435\\u0439\"),e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430 \".concat(e.status))})).then((function(e){return e}))})(t,n).then((function(t){t.data&&(ue(!0),te(!0),e.push(\"/sign-in\"))})).catch((function(e){console.log(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e)),ue(!1),te(!0)}))}})}),Object(d.jsx)(u.b,{children:X?Object(d.jsx)(u.a,{to:\"/\"}):Object(d.jsx)(u.a,{to:\"/sign-in\"})})]}),Object(d.jsx)(g,{isOpen:p,onClose:le,onUpdateUser:function(e){k.setUserInfoOnServer(e.name,e.about).then((function(e){Q(e),le(),le()})).catch((function(e){return console.error(e)}))}}),Object(d.jsx)(v,{isOpen:a,onClose:le,onUpdateAvatar:function(e){k.editProfileAvatar(e.avatar).then((function(e){Q(e),le()})).catch((function(e){return console.error(e)}))}}),Object(d.jsx)(O,{isOpen:C,onClose:le,onAddCard:function(e){k.addCards(e.name,e.link).then((function(e){z([e].concat(Object(i.a)(B))),le()})).catch((function(e){return console.error(e)}))}}),Object(d.jsx)(x,{card:F,isOpen:A,onClose:le}),Object(d.jsx)(q,{isRequestSuccessful:re,isOpen:ee,onClose:le})]}),Object(d.jsx)(h,{})]})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),s(e),o(e)}))};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(p.a,{children:Object(d.jsx)(w,{})})}),document.getElementById(\"root\")),U()}},[[38,1,2]]]);","name":"static/js/main.5bbf8a43.chunk.js","map":{"version":3,"sources":["static/js/main.5bbf8a43.chunk.js"],"names":["this","push","28","module","exports","__webpack_require__","38","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","toConsumableArray","slicedToArray","react_router","logo","p","react_router_dom","jsx_runtime","components_Header","props","loginNavBar","Object","className","children","path","to","exact","email","onClick","loggedOut","src","alt","components_Footer","CurrentUserContext","a","createContext","components_Card","_ref","card","onCardClick","onCardLike","onDeleteCard","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","concat","isLiked","likes","some","i","cardLikeButtonClassName","type","link","name","length","components_Main","onEditAvatar","onEditProfile","onAddPlace","onCardList","avatar","about","map","components_PopupWithForm","isOpen","onClose","title","popupName","formName","onSubmit","method","components_AddPlacePopup","onAddCard","_React$useState","useState","_React$useState2","setName","_React$useState3","_React$useState4","setLink","useEffect","e","preventDefault","id","placeholder","required","minLength","maxLength","onChange","target","value","components_EditProfilePopup","onUpdateUser","description","setDescription","components_EditAvatarPopup","onUpdateAvatar","inputAvatarRef","useRef","current","ref","components_ImagePopup","classCallCheck","createClass","utils_api","Api","config","_url","url","_headers","headers","key","fetch","body","JSON","stringify","then","res","ok","json","Promise","reject","status","cardId","like","Authorization","Content-Type","objectSpread2","objectWithoutProperties","components_ProtectedRoute","Component","component","loggedIn","components_Login","password","setPassword","setEmail","handleSubmit","event","handleLogin","evt","components_Register","handleRegister","_useState","_useState2","_useState3","_useState4","success","error","close_icon","components_InfoTooltip","isRequestSuccessful","BASE_URL","components_App","history","isEditAvatarPopupOpen","setIsOpenPopupAvatar","isEditProfilePopupOpen","setIsOpenPopupProfile","_React$useState5","_React$useState6","isAddPlacePopupOpen","setIsOpenPopupPlace","_React$useState7","_React$useState8","selectedCard","setSelectedCard","_React$useState9","_React$useState10","imageData","setImageData","_React$useState11","_React$useState12","cards","setCards","_React$useState13","_React$useState14","setCurrentUser","_React$useState15","_React$useState16","setLoggedIn","_React$useState17","_React$useState18","isInfoTooltipOpen","setIsInfoTooltipOpen","_React$useState19","_React$useState20","_React$useState21","_React$useState22","setisRequestSuccessful","closeAllPopups","handleCheckToken","token","jwt","localStorage","getItem","Accept","data","catch","err","console","log","all","getUserInfoFromServer","getCardsInformation","Provider","removeItem","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","authorize","setItem","register","userData","setUserInfoOnServer","editProfileAvatar","cardData","addCards","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmesto-react\"] = this[\"webpackJsonpmesto-react\"] || []).push([[0],{\n\n/***/ 28:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(17);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/images/logo.svg\n/* harmony default export */ var logo = (__webpack_require__.p + \"static/media/logo.a307e1c4.svg\");\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Header.js\nfunction Header(props){var loginNavBar=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{className:\"header__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/sign-up\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{className:\"header__link\",to:\"/sign-in\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/sign-in\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{className:\"header__link\",to:\"/sign-up\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"header__email\",children:props.email}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"header__button-logout\",onClick:props.loggedOut,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]})})]});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"logo\",src:logo,alt:\"\\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u043B\\u043E\\u0433\\u043E\"}),loginNavBar]});}/* harmony default export */ var components_Header = (Header);\n// CONCATENATED MODULE: ./src/components/Footer.js\nfunction Footer(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"footer\",{className:\"footer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"footer__copyright\",children:\"\\xA9\\xA02020 Mesto Russia\"})});}/* harmony default export */ var components_Footer = (Footer);\n// CONCATENATED MODULE: ./src/contexts/CurrentUserContext.js\nvar CurrentUserContext=/*#__PURE__*/react_default.a.createContext();\n// CONCATENATED MODULE: ./src/components/Card.js\nfunction Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onDeleteCard=_ref.onDeleteCard;var currentUser=react_default.a.useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\nvar isOwn=card.owner._id===currentUser._id;// Создаём переменную, которую после зададим в `className` для кнопки удаления\nvar cardDeleteButtonClassName=\"photo-grid__delete-btn \".concat(isOwn?'photo-grid__delete-btn_visible':'photo-grid__delete-btn_hidden');// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=card.likes.some(function(i){return i._id===currentUser._id;});// Создаём переменную, которую после зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"photo-grid__like-btn \".concat(isLiked?'photo-grid__like-btn_active':'');function handleCardClick(){onCardClick(card);}function handleLikeClick(){onCardLike(card);}function handleDeleteClick(){onDeleteCard(card);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"photo-grid__item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:cardDeleteButtonClassName,onClick:handleDeleteClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"photo-grid__image\",src:card.link,alt:card.name,onClick:handleCardClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"photo-grid__rectangle\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"photo-grid__title\",children:card.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"photo-grid__like-place\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:cardLikeButtonClassName,onClick:handleLikeClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"photo-grid__like-count\",children:card.likes.length})]})]})]});}/* harmony default export */ var components_Card = (Card);\n// CONCATENATED MODULE: ./src/components/Main.js\nfunction Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onCardClick=_ref.onCardClick,onCardList=_ref.onCardList,onCardLike=_ref.onCardLike,onDeleteCard=_ref.onDeleteCard;var currentUser=react_default.a.useContext(CurrentUserContext);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{className:\"content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:\"profile\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile__avatar-container\",onClick:onEditAvatar,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"profile__avatar-icon\",src:currentUser.avatar,alt:\"\\u0444\\u043E\\u0442\\u043E \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u0430\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"profile__title\",children:currentUser.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"profile__subtitle\",children:currentUser.about}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"profile__edit-btn\",onClick:onEditProfile})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"profile__add-btn\",onClick:onAddPlace})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{className:\"photo-grid\",children:onCardList.map(function(card){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Card,{card:card,onCardClick:onCardClick,onCardLike:onCardLike,onDeleteCard:onDeleteCard},card._id);})})]});}/* harmony default export */ var components_Main = (Main);\n// CONCATENATED MODULE: ./src/components/PopupWithForm.js\nfunction PopupWithForm(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,title=_ref.title,popupName=_ref.popupName,formName=_ref.formName,children=_ref.children,onSubmit=_ref.onSubmit;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup popup__\".concat(popupName,\" \").concat(isOpen&&\"popup_opened\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"popup__close-btn\",onClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"popup__title\",children:title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{name:\"edit\",method:\"POST\",className:\"popup__form popup__\".concat(formName),onSubmit:onSubmit,children:[children,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"popup__save-btn\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]})]})]})});}/* harmony default export */ var components_PopupWithForm = (PopupWithForm);\n// CONCATENATED MODULE: ./src/components/AddPlacePopup.js\nfunction AddPlacePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onAddCard=_ref.onAddCard;var _React$useState=react_default.a.useState(\"\"),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=react_default.a.useState(\"\"),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),link=_React$useState4[0],setLink=_React$useState4[1];function handleChangeName(e){setName(e.target.value);}function handleChangeLink(e){setLink(e.target.value);}function handleSubmit(e){e.preventDefault();onAddCard({name:name,link:link});}react_default.a.useEffect(function(){setLink(\"\");setName(\"\");},[isOpen]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_PopupWithForm,{isOpen:isOpen,onClose:onClose,title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",popupName:\"update\",formName:\"form_update\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__field\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"empty-title-input\",name:\"name\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",className:\"popup__input popup__input_title\",required:true,minLength:\"2\",maxLength:\"30\",onChange:handleChangeName,value:name?name:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"empty-title-input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__field\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"url\",id:\"empty-link-input\",name:\"link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",className:\"popup__input popup__input_link\",required:true,onChange:handleChangeLink,value:link?link:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"empty-link-input-error\"})]})]});}/* harmony default export */ var components_AddPlacePopup = (AddPlacePopup);\n// CONCATENATED MODULE: ./src/components/EditProfilePopup.js\nfunction EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=react_default.a.useContext(CurrentUserContext);var _React$useState=react_default.a.useState(''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=react_default.a.useState(''),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nreact_default.a.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nonUpdateUser({name:name,about:description});}function handleChangeName(e){setName(e.target.value);}function handleChangeDescription(e){setDescription(e.target.value);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_PopupWithForm,{isOpen:isOpen,onClose:onClose,title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",popupName:\"edit\",formName:\"form_edit\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__field\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"empty-name-input\",name:\"nameInput\",className:\"popup__input popup__input_name\",required:true,minLength:\"2\",maxLength:\"40\",value:name?name:\"\",onChange:handleChangeName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"empty-name-input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__field\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"empty-job-input\",name:\"jobInput\",className:\"popup__input popup__input_job\",required:true,minLength:\"2\",maxLength:\"200\",value:description?description:\"\",onChange:handleChangeDescription}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"empty-job-input-error\"})]})]});}/* harmony default export */ var components_EditProfilePopup = (EditProfilePopup);\n// CONCATENATED MODULE: ./src/components/EditAvatarPopup.js\nfunction EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar;var inputAvatarRef=react_default.a.useRef(\"\");function handleSubmit(e){e.preventDefault();onUpdateAvatar({avatar:inputAvatarRef.current.value});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_PopupWithForm,{isOpen:isOpen,onClose:onClose,title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",popupName:\"avatar\",formName:\"form_update\",onSubmit:handleSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"popup__input popup__input_link-avatar popup__input_link\",type:\"url\",name:\"avatar\",ref:inputAvatarRef,required:true})});}/* harmony default export */ var components_EditAvatarPopup = (EditAvatarPopup);\n// CONCATENATED MODULE: ./src/components/ImagePopup.js\nfunction ImagePopup(_ref){var card=_ref.card,isOpen=_ref.isOpen,onClose=_ref.onClose;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup popup__photo \".concat(isOpen&&\"popup_opened\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"popup__close-btn\",onClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"popup__photo-fullscreen\",src:card===null||card===void 0?void 0:card.link,alt:card===null||card===void 0?void 0:card.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"popup__photo-title\",children:card===null||card===void 0?void 0:card.name})]})});}/* harmony default export */ var components_ImagePopup = (ImagePopup);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(20);\n\n// CONCATENATED MODULE: ./src/utils/api.js\nvar api_Api=/*#__PURE__*/function(){function Api(config){Object(classCallCheck[\"a\" /* default */])(this,Api);this._url=config.url;this._headers=config.headers;}Object(createClass[\"a\" /* default */])(Api,[{key:\"editProfileAvatar\",value:function editProfileAvatar(avatar){return fetch(\"\".concat(this._url,'users/me/avatar'),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"getUserInfoFromServer\",value:function getUserInfoFromServer(){return fetch(\"\".concat(this._url,'users/me'),{method:\"GET\",headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"getAvatarFromServer\",value:function getAvatarFromServer(){return fetch(\"\".concat(this._url,'users/me/avatar'),{method:\"GET\",headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"setUserInfoOnServer\",value:function setUserInfoOnServer(name,about){return fetch(\"\".concat(this._url,'users/me'),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"getCardsInformation\",value:function getCardsInformation(){return fetch(\"\".concat(this._url,'cards'),{method:\"GET\",headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"addCards\",value:function addCards(name,link){return fetch(\"\".concat(this._url,'cards'),{method:\"POST\",headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this._url,'cards/').concat(cardId),{method:\"DELETE\",headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,like){return fetch(\"\".concat(this._url,'cards/likes/').concat(cardId),{method:like?\"PUT\":\"DELETE\",headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}}]);return Api;}();var api=new api_Api({url:\"https://mesto.nomoreparties.co/v1/cohort-18/\",headers:{\"Authorization\":\"6b4f0e7a-6b81-4fab-971b-4da07f00c7c0\",'Content-Type':'application/json'}});/* harmony default export */ var utils_api = (api);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./src/components/ProtectedRoute.js\nvar ProtectedRoute_ProtectedRoute=function ProtectedRoute(_ref){var Component=_ref.component,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"component\"]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{children:function children(){return props.loggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component,Object(objectSpread2[\"a\" /* default */])({},props)):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"./sign-in\"});}});};/* harmony default export */ var components_ProtectedRoute = (ProtectedRoute_ProtectedRoute);\n// CONCATENATED MODULE: ./src/components/Login.js\nfunction Login(props){var _React$useState=react_default.a.useState(''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),password=_React$useState2[0],setPassword=_React$useState2[1];var _React$useState3=react_default.a.useState(''),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),email=_React$useState4[0],setEmail=_React$useState4[1];function handleSubmit(event){event.preventDefault();if(!email||!password){return;}props.handleLogin(email,password);}function handleChangeEmail(evt){setEmail(evt.target.value);}function handleChangePassword(evt){setPassword(evt.target.value);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"register\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"register__title\",children:\"\\u0412\\u0445\\u043E\\u0434\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"register__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"register__input\",placeholder:\"email\",type:\"email\",required:true,minLength:\"2\",value:email,maxLength:\"40\",onChange:handleChangeEmail}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"register__input\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",required:true,minLength:\"2\",value:password,maxLength:\"40\",onChange:handleChangePassword}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"register__button-save\",onSubmit:handleSubmit,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}/* harmony default export */ var components_Login = (Object(react_router[\"h\" /* withRouter */])(Login));\n// CONCATENATED MODULE: ./src/components/Register.js\nfunction Register(_ref){var handleRegister=_ref.handleRegister;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),email=_useState4[0],setEmail=_useState4[1];function handleSubmit(e){e.preventDefault();handleRegister(email,password);setPassword('');setEmail('');}function handleChangeEmail(evt){setEmail(evt.target.value);}function handleChangePassword(evt){setPassword(evt.target.value);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"register\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"register__title\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"register__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"register__input\",placeholder:\"email\",type:\"email\",required:true,minLength:\"2\",maxLength:\"40\",value:email,onChange:handleChangeEmail}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"register__input\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",required:true,minLength:\"2\",maxLength:\"40\",value:password,onChange:handleChangePassword}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"register__button-save\",onSubmit:handleSubmit,children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"register__signin\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"sign-in\",className:\"register__register-link\",children:\" \\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}/* harmony default export */ var components_Register = (Object(react_router[\"h\" /* withRouter */])(Register));\n// CONCATENATED MODULE: ./src/images/success.svg\n/* harmony default export */ var success = (__webpack_require__.p + \"static/media/success.1b6082f8.svg\");\n// CONCATENATED MODULE: ./src/images/error.svg\n/* harmony default export */ var error = (__webpack_require__.p + \"static/media/error.df8eddf6.svg\");\n// CONCATENATED MODULE: ./src/images/close_icon.svg\n/* harmony default export */ var close_icon = (__webpack_require__.p + \"static/media/close_icon.0a2678e1.svg\");\n// CONCATENATED MODULE: ./src/components/InfoTooltip.js\nfunction InfoTooltip(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup \".concat(props.isOpen?'popup_opened':' '),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__tooltip-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"popup__tooltip-image\",src:props.isRequestSuccessful?success:error,alt:\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"popup__tooltip-title\",children:props.isRequestSuccessful?'Вы успешно зарегистрировались!':'Что-то пошло не так! Попробуйте еще раз.'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"popup__tooltip-close-button\",type:\"reset\",onClick:props.onClose,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:close_icon,className:\"popup__tooltip-close-image\",alt:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})})]})})});}/* harmony default export */ var components_InfoTooltip = (InfoTooltip);\n// CONCATENATED MODULE: ./src/utils/auth.js\nvar BASE_URL='https://auth.nomoreparties.co';var register=function register(email,password){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(function(res){if(res.status===400){console.log('Некорректно заполнено одно из полей');}if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}return res.json();}).then(function(res){return res;});};var authorize=function authorize(email,password){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{'Accept':'application/json',\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(function(res){if(res.status===400){console.log('Не передано одно из полей');}if(res.status===401){console.log('Пользователь с email не найден ');}if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}return res.json();});};var getContent=function getContent(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});};\n// CONCATENATED MODULE: ./src/components/App.js\nfunction App(){var history=Object(react_router[\"g\" /* useHistory */])();var _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),isEditAvatarPopupOpen=_React$useState2[0],setIsOpenPopupAvatar=_React$useState2[1];var _React$useState3=react_default.a.useState(false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),isEditProfilePopupOpen=_React$useState4[0],setIsOpenPopupProfile=_React$useState4[1];var _React$useState5=react_default.a.useState(false),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),isAddPlacePopupOpen=_React$useState6[0],setIsOpenPopupPlace=_React$useState6[1];var _React$useState7=react_default.a.useState(false),_React$useState8=Object(slicedToArray[\"a\" /* default */])(_React$useState7,2),selectedCard=_React$useState8[0],setSelectedCard=_React$useState8[1];var _React$useState9=react_default.a.useState(null),_React$useState10=Object(slicedToArray[\"a\" /* default */])(_React$useState9,2),imageData=_React$useState10[0],setImageData=_React$useState10[1];var _React$useState11=react_default.a.useState([]),_React$useState12=Object(slicedToArray[\"a\" /* default */])(_React$useState11,2),cards=_React$useState12[0],setCards=_React$useState12[1];var _React$useState13=react_default.a.useState({}),_React$useState14=Object(slicedToArray[\"a\" /* default */])(_React$useState13,2),currentUser=_React$useState14[0],setCurrentUser=_React$useState14[1];var _React$useState15=react_default.a.useState(false),_React$useState16=Object(slicedToArray[\"a\" /* default */])(_React$useState15,2),loggedIn=_React$useState16[0],setLoggedIn=_React$useState16[1];var _React$useState17=react_default.a.useState(false),_React$useState18=Object(slicedToArray[\"a\" /* default */])(_React$useState17,2),isInfoTooltipOpen=_React$useState18[0],setIsInfoTooltipOpen=_React$useState18[1];var _React$useState19=react_default.a.useState(''),_React$useState20=Object(slicedToArray[\"a\" /* default */])(_React$useState19,2),email=_React$useState20[0],setEmail=_React$useState20[1];var _React$useState21=react_default.a.useState(false),_React$useState22=Object(slicedToArray[\"a\" /* default */])(_React$useState21,2),isRequestSuccessful=_React$useState22[0],setisRequestSuccessful=_React$useState22[1];react_default.a.useEffect(function(){Promise.all([utils_api.getUserInfoFromServer(),utils_api.getCardsInformation()]).then(function(res){// console.log(res)\nsetCurrentUser(res[0]);setCards(res[1]);}).catch(function(err){return console.error(err);});},[]);function handleEditAvatarClick(){setIsOpenPopupAvatar(true);}function handleAddPlaceClick(){setIsOpenPopupPlace(true);}function handleEditProfileClick(){setIsOpenPopupProfile(true);}function handleCardLike(card){// Снова проверяем, есть ли уже лайк на этой карточке\nvar isLiked=card.likes.some(function(i){return i._id===currentUser._id;});// Отправляем запрос в API и получаем обновлённые данные карточки\nutils_api.changeLikeCardStatus(card._id,!isLiked).then(function(newCard){// Формируем новый массив на основе имеющегося, подставляя в него новую карточку\nvar newCards=cards.map(function(c){return c._id===card._id?newCard:c;});// Обновляем стейт\nsetCards(newCards);}).catch(function(err){return console.error(err);});}function handleCardDelete(card){// Отправляем запрос в API и получаем обновлённые данные карточки\nutils_api.deleteCard(card._id).then(function(){setCards(cards.filter(function(c){return c._id!==card._id;}));}).catch(function(err){return console.error(err);});}function handleUpdateUser(userData){utils_api.setUserInfoOnServer(userData.name,userData.about).then(function(res){setCurrentUser(res);closeAllPopups();closeAllPopups();}).catch(function(err){return console.error(err);});}function handleUpdateAvatar(userData){utils_api.editProfileAvatar(userData.avatar).then(function(res){setCurrentUser(res);closeAllPopups();}).catch(function(err){return console.error(err);});}function handleAddPlaceSubmit(cardData){// console.log(cards);\nutils_api.addCards(cardData.name,cardData.link).then(function(card){setCards([card].concat(Object(toConsumableArray[\"a\" /* default */])(cards)));closeAllPopups();}).catch(function(err){return console.error(err);});}function handleCardClick(card){setSelectedCard(true);setImageData(card);}function closeAllPopups(){setIsOpenPopupAvatar(false);setIsOpenPopupProfile(false);setIsOpenPopupPlace(false);setSelectedCard(null);setIsInfoTooltipOpen(false);}function handleRegister(email,password){register(email,password).then(function(res){if(res.data){setisRequestSuccessful(true);setIsInfoTooltipOpen(true);history.push('/sign-in');}}).catch(function(err){console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(err));setisRequestSuccessful(false);setIsInfoTooltipOpen(true);});}var handleLogin=function handleLogin(email,password){authorize(email,password).then(function(res){if(res.token){setLoggedIn(true);localStorage.setItem('jwt',res.token);history.push('/');}}).catch(function(err){console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(err));setIsInfoTooltipOpen(true);setisRequestSuccessful(false);});};function handleLogout(){setLoggedIn(false);setEmail(email);localStorage.removeItem('jwt');history.push('/sign-in');}function handleCheckToken(){var jwt=localStorage.getItem('jwt');if(jwt){getContent(jwt).then(function(res){if(res){setLoggedIn(true);setEmail(res.data.email);history.push('/');}}).catch(function(err){console.log(err);});}}react_default.a.useEffect(function(){handleCheckToken();},[loggedIn]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CurrentUserContext.Provider,{value:currentUser,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Header,{email:email,loggedOut:handleLogout,loggedIn:loggedIn}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProtectedRoute,{exact:true,path:\"/\",loggedIn:loggedIn,component:components_Main,onEditAvatar:handleEditAvatarClick,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onCardClick:handleCardClick,onCardList:cards,onCardLike:handleCardLike,onDeleteCard:handleCardDelete}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/sign-in\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Login,{handleLogin:handleLogin,setEmail:setEmail})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/sign-up\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Register,{handleRegister:handleRegister})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{children:loggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/sign-in\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddCard:handleAddPlaceSubmit}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ImagePopup,{card:imageData,isOpen:selectedCard,onClose:closeAllPopups}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_InfoTooltip,{isRequestSuccessful:isRequestSuccessful,isOpen:isInfoTooltipOpen,onClose:closeAllPopups})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Footer,{})]});}/* harmony default export */ var components_App = (App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 39)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[38,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/node_modules/postcss-loader/src/index.js??postcss!/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/index.css","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/images/logo.svg","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/Header.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/Footer.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/contexts/CurrentUserContext.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/Card.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/Main.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/PopupWithForm.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/AddPlacePopup.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/EditProfilePopup.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/EditAvatarPopup.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/ImagePopup.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/utils/api.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/ProtectedRoute.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/Login.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/Register.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/images/success.svg","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/images/error.svg","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/images/close_icon.svg","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/InfoTooltip.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/utils/auth.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/components/App.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/reportWebVitals.js","/Users/vatc/Desktop/praktikum/react-mesto-auth/react-mesto-auth/src/index.js"],"names":["Header","props","loginNavBar","email","loggedOut","logo","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onDeleteCard","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","handleCardClick","handleLikeClick","handleDeleteClick","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","onCardList","avatar","about","map","PopupWithForm","isOpen","onClose","title","popupName","formName","children","onSubmit","AddPlacePopup","onAddCard","useState","setName","setLink","handleChangeName","e","target","value","handleChangeLink","handleSubmit","preventDefault","useEffect","EditProfilePopup","onUpdateUser","description","setDescription","handleChangeDescription","EditAvatarPopup","onUpdateAvatar","inputAvatarRef","useRef","current","ImagePopup","Api","config","_url","url","_headers","headers","fetch","method","body","JSON","stringify","then","res","ok","json","Promise","reject","status","cardId","like","api","ProtectedRoute","Component","component","loggedIn","Login","password","setPassword","setEmail","event","handleLogin","handleChangeEmail","evt","handleChangePassword","withRouter","Register","handleRegister","InfoTooltip","isRequestSuccessful","successPath","failPath","closePath","BASE_URL","register","console","log","authorize","getContent","token","App","history","useHistory","isEditAvatarPopupOpen","setIsOpenPopupAvatar","isEditProfilePopupOpen","setIsOpenPopupProfile","isAddPlacePopupOpen","setIsOpenPopupPlace","selectedCard","setSelectedCard","imageData","setImageData","cards","setCards","setCurrentUser","setLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","setisRequestSuccessful","all","getUserInfoFromServer","getCardsInformation","catch","err","error","handleEditAvatarClick","handleAddPlaceClick","handleEditProfileClick","handleCardLike","changeLikeCardStatus","newCard","newCards","c","handleCardDelete","deleteCard","filter","handleUpdateUser","userData","setUserInfoOnServer","closeAllPopups","handleUpdateAvatar","editProfileAvatar","handleAddPlaceSubmit","cardData","addCards","auth","data","push","localStorage","setItem","handleLogout","removeItem","handleCheckToken","jwt","getItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\nimport { BrowserRouter, NavLink, Route } from 'react-router-dom';\n\nfunction Header(props) {\n\n  const loginNavBar = (\n    <nav className='header__container'>\n        <Route path='/sign-up'>\n              <NavLink className='header__link' to='/sign-in'>Войти</NavLink>\n          </Route>\n          <Route path='/sign-in'>\n              <NavLink className='header__link' to='/sign-up'>Регистрация</NavLink>\n          </Route>\n          <Route exact path='/'>\n              <div className='header__container'>\n                  <p className='header__email'>{props.email}</p>\n                  <button className='header__button-logout' onClick={props.loggedOut}>Выйти</button>\n              </div>\n          </Route>\n    </nav>\n)\n\n  return (\n    <header className=\"header\">\n        <img className=\"logo\" src={logo} alt=\"изображение лого\" /> \n        {loginNavBar}\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\"> \n        <p className=\"footer__copyright\">&copy;&#160;2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onDeleteCard }) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    // Определяем, являемся ли мы владельцем текущей карточки\n    const isOwn = card.owner._id === currentUser._id;\n\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\n    const cardDeleteButtonClassName = (\n    `photo-grid__delete-btn ${isOwn ? 'photo-grid__delete-btn_visible' : 'photo-grid__delete-btn_hidden'}`\n    );\n\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\n    const cardLikeButtonClassName = (`photo-grid__like-btn ${isLiked ? 'photo-grid__like-btn_active' : ''}`);\n\n    function handleCardClick() {\n        onCardClick(card);\n    } \n\n    function handleLikeClick() {\n\t\tonCardLike(card);\n    }\n\n    function handleDeleteClick() {\n\t\tonDeleteCard(card);\n    }\n\n    return (\n        <div className=\"photo-grid__item\">\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n        <img className=\"photo-grid__image\" src={card.link} alt={card.name} onClick={handleCardClick} />\n            <div className=\"photo-grid__rectangle\">\n                <h2 className=\"photo-grid__title\">{card.name}</h2>\n                <div className=\"photo-grid__like-place\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                    <span className=\"photo-grid__like-count\">{card.likes.length}</span>\n                </div>\n            </div> \n        </div>    \n    );\n}\n\nexport default Card;","import React from 'react';\nimport Card from '../components/Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardList, onCardLike, onDeleteCard }) {\n    \n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                 <div className=\"profile__avatar-container\" onClick={onEditAvatar}>                    \n                    <img className=\"profile__avatar-icon\" src={currentUser.avatar} alt=\"фото аватара\" />\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__title\">{currentUser.name}</h1>\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\n                    <button type=\"button\" className=\"profile__edit-btn\" onClick={onEditProfile}></button>\n                </div>\n                <button type=\"button\" className=\"profile__add-btn\" onClick={onAddPlace} />\n            </section>\n            <section className=\"photo-grid\">\n                { \n                    onCardList.map((card) => (\n                        <Card \n                            key={card._id}\n                            card={card}\n                            onCardClick={onCardClick}\n                            onCardLike={onCardLike}\n                            onDeleteCard={onDeleteCard}\n                        />))           \n                }\n            </section>\n        </main>       \n    );\n\n}\n\nexport default Main;","import React from 'react';\n\nfunction PopupWithForm({ isOpen, onClose, title, popupName, formName, children, onSubmit  }) {\n  return (\n    <div className={`popup popup__${popupName} ${isOpen && \"popup_opened\"}`}>\n        <div className=\"popup__container\">\n            <button type=\"button\" className=\"popup__close-btn\" onClick={onClose}></button> \n            <div className=\"popup__content\">\n                <h2 className=\"popup__title\">{title}</h2>\n                <form name=\"edit\" method=\"POST\" className={`popup__form popup__${formName}`} onSubmit={onSubmit}>\n                    {children}\n                    <button type=\"submit\" className=\"popup__save-btn\">Сохранить</button> \n                </form>\n            </div>\n        </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose,  onAddCard}) {\n      \n    const [name, setName] = React.useState(\"\");\n    const [link, setLink] = React.useState(\"\");\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n    \n      function handleChangeLink(e) {\n        setLink(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onAddCard({\n          name: name,\n          link: link\n        });\n    }\n\n\tReact.useEffect(() => { \n        setLink(\"\");\n        setName(\"\");\n  \t}, [isOpen]); \n\n    return (\n        <PopupWithForm\n            isOpen={isOpen}\n            onClose={onClose}\n            title=\"Новое место\"\n            popupName=\"update\"\n            formName=\"form_update\"\n            onSubmit={handleSubmit}\n        >\n            <div className=\"popup__field\">\n                <input \n                    type=\"text\" \n                    id=\"empty-title-input\" \n                    name=\"name\" \n                    placeholder=\"Название\" \n                    className=\"popup__input popup__input_title\" \n                    required \n                    minLength=\"2\" \n                    maxLength=\"30\"\n                    onChange={handleChangeName}  \n                    value={name ? name : \"\"}  \n                />\n                <span id=\"empty-title-input-error\"></span> \n            </div>\n            <div className=\"popup__field\">\n                <input \n                    type=\"url\" \n                    id=\"empty-link-input\" \n                    name=\"link\" \n                    placeholder=\"Ссылка на картинку\" \n                    className=\"popup__input popup__input_link\" \n                    required\n                    onChange={handleChangeLink} \n                    value={link ? link : \"\"}\n                />   \n                <span id=\"empty-link-input-error\"></span> \n            </div> \n        </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from '../components/PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  \n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n\n    // После загрузки текущего пользователя из API\n    // его данные будут использованы в управляемых компонентах.\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n\n        // Передаём значения управляемых компонентов во внешний обработчик\n        onUpdateUser({ \n            name: name, \n            about: description });\n    }\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n\n\n    return (\n        <PopupWithForm\n            isOpen={isOpen}\n            onClose={onClose}\n            title=\"Редактировать профиль\"\n            popupName=\"edit\"\n            formName=\"form_edit\"\n            onSubmit={handleSubmit}\n        >\n            <div className=\"popup__field\">\n                <input \n                    type=\"text\" \n                    id=\"empty-name-input\"\n                    name=\"nameInput\" \n                    className=\"popup__input popup__input_name\" \n                    required \n                    minLength=\"2\" \n                    maxLength=\"40\"\n                    value={name ? name : \"\"}\n                    onChange={handleChangeName}\n                />\n                <span id=\"empty-name-input-error\"></span> \n            </div>\n            <div className=\"popup__field\">\n                <input \n                    type=\"text\" \n                    id=\"empty-job-input\" \n                    name=\"jobInput\" \n                    className=\"popup__input popup__input_job\" \n                    required minLength=\"2\" \n                    maxLength=\"200\"\n                    value={description ? description : \"\"}\n                    onChange={handleChangeDescription} \n                />\n                <span id=\"empty-job-input-error\"></span>  \n            </div>\n        </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup({ isOpen, onClose,  onUpdateAvatar}) {\n  \n    const inputAvatarRef = React.useRef(\"\");\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({ \n            avatar: inputAvatarRef.current.value  \n        });\n    }\n\n    return (\n        <PopupWithForm\n            isOpen={isOpen}\n            onClose={onClose}\n            title=\"Обновить аватар\"\n            popupName=\"avatar\"\n            formName=\"form_update\"\n            onSubmit={handleSubmit}\n        >\n            <input \n                className=\"popup__input popup__input_link-avatar popup__input_link\" \n                type=\"url\" \n                name=\"avatar\" \n                ref={inputAvatarRef}\n                required \n            />   \n        </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\n\nfunction ImagePopup({ card, isOpen, onClose }) {\n    return (\n        <div className={`popup popup__photo ${isOpen && \"popup_opened\"}`}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-btn\" onClick={onClose}></button> \n                <img className=\"popup__photo-fullscreen\" src={card?.link} alt={card?.name} />\n                <h2 className=\"popup__photo-title\">{card?.name}</h2>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;","class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n\n    editProfileAvatar(avatar) {\n        return fetch(`${this._url}${'users/me/avatar'}`, {\n            method: \"PATCH\",\n            headers: this._headers, \n            body: JSON.stringify({\n                avatar: avatar\n            })       \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    getUserInfoFromServer() {\n        return fetch(`${this._url}${'users/me'}`, {\n            method: \"GET\",\n            headers: this._headers        \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    getAvatarFromServer() {\n        return fetch(`${this._url}${'users/me/avatar'}`, {\n            method: \"GET\",\n            headers: this._headers        \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    setUserInfoOnServer(name, about) {\n        return fetch(`${this._url}${'users/me'}`, {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name: name,\n                about: about\n            })       \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    getCardsInformation() {\n        return fetch(`${this._url}${'cards'}`, {\n            method: \"GET\",\n            headers: this._headers        \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    addCards(name, link) {\n        return fetch(`${this._url}${'cards'}`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name: name,\n                link: link\n            })       \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._url}${'cards/'}${cardId}`, {\n            method: \"DELETE\",\n            headers: this._headers,   \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n\n    changeLikeCardStatus(cardId, like) {\n        return fetch(`${this._url}${'cards/likes/'}${cardId}`, {\n            method: like ? \"PUT\" : \"DELETE\",\n            headers: this._headers      \n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n}\n\n\n\nconst api = new Api({\n    url: \"https://mesto.nomoreparties.co/v1/cohort-18/\",\n    headers: {\n        \"Authorization\": \"6b4f0e7a-6b81-4fab-971b-4da07f00c7c0\",\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction Login(props) {\n    const [password, setPassword] = React.useState('')\n    const [email, setEmail] = React.useState('')\n\n    function handleSubmit(event) {\n        event.preventDefault()\n        if (!email || !password){\n            return\n        }\n        props.handleLogin(email, password)\n    }\n    \n    function handleChangeEmail(evt) {\n        setEmail(evt.target.value)\n    }\n\n    function handleChangePassword(evt) {\n        setPassword(evt.target.value)\n    }\n\n\n    return (\n            <div className='register'>\n                <h2 className='register__title'>Вход</h2>\n                <form className='register__form' onSubmit={handleSubmit} >\n                    <input className='register__input' placeholder='email' type='email' required minLength='2' value={email} maxLength='40' onChange={handleChangeEmail} />\n                    <input className='register__input' placeholder='Пароль' type='password' required minLength='2' value={password} maxLength='40' onChange={handleChangePassword} />\n                    <button type='submit' className='register__button-save' onSubmit={handleSubmit}>Войти</button>\n                </form>\n            </div>\n    )\n}\n\nexport default withRouter(Login);","import React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nfunction Register({handleRegister}) {\n    const [password, setPassword] = useState('');\n    const [email, setEmail] = useState('');\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        handleRegister(email, password);\n        setPassword('');\n        setEmail('');\n    }\n\n    function handleChangeEmail(evt) {\n        setEmail(evt.target.value)\n    }\n\n    function handleChangePassword(evt) {\n        setPassword(evt.target.value)\n    }\n\n    return (\n        <div className='register'>\n            <h2 className='register__title'>Регистрация</h2>\n            <form className='register__form' onSubmit={handleSubmit}>\n                <input className='register__input' placeholder='email' type='email' required minLength='2' maxLength='40' value={email} onChange={handleChangeEmail}/>\n                <input className='register__input' placeholder='Пароль' type='password' required minLength='2' maxLength='40' value={password} onChange={handleChangePassword} />\n                <button type='submit' className='register__button-save' onSubmit={handleSubmit}>Зарегистрироваться</button>\n            </form>\n            <div className='register__signin'>\n                <p>Уже зарегистрированы?</p>\n                <Link to='sign-in' className='register__register-link'> Войти</Link>\n            </div>\n        </div>\n    )\n}\n\nexport default withRouter(Register);","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/close_icon.0a2678e1.svg\";","import React from 'react';\nimport successPath from '../images/success.svg';\nimport failPath from '../images/error.svg';\nimport closePath from '../images/close_icon.svg';\n\nfunction InfoTooltip(props) {\n    return (\n        <>\n        <div className={`popup ${props.isOpen ? 'popup_opened' : ' '}`} >\n            <div className='popup__tooltip-container'>\n                <img className='popup__tooltip-image' src={props.isRequestSuccessful ? successPath : failPath} alt='Иконка' />\n                <h2 className='popup__tooltip-title'>{props.isRequestSuccessful ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}</h2>\n                <button className='popup__tooltip-close-button' type='reset' onClick={props.onClose}>\n                    <img src={closePath} className='popup__tooltip-close-image' alt='Закрыть' />\n                </button>\n            </div>\n        </div>\n        </>\n    )\n}\n\nexport default InfoTooltip;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password })\n    })\n    .then((res) => {\n      if (res.status === 400) {\n        console.log('Некорректно заполнено одно из полей')\n      }\n      if (!res.ok) {\n          return Promise.reject(`Ошибка ${res.status}`)\n      }\n      return res.json()\n  })\n    .then((res) => {\n      return res\n    })\n}\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ email, password })\n    })\n    .then((res) => {\n      if (res.status === 400) {\n          console.log('Не передано одно из полей')\n        }\n        if (res.status === 401) {\n          console.log('Пользователь с email не найден ')\n        }\n      if (!res.ok) {\n          return Promise.reject(`Ошибка ${res.status}`);\n      }\n      return res.json()\n  })\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n  })\n  .then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  })\n}\n\n","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport '../index.js';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport Main from '../components/Main';\nimport AddPlacePopup from '../components/AddPlacePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport ImagePopup from '../components/ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport ProtectedRoute from './ProtectedRoute';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth';\n\nfunction App() {\n\n    const history = useHistory();\n\n    const [isEditAvatarPopupOpen, setIsOpenPopupAvatar] = React.useState(false);\n    const [isEditProfilePopupOpen, setIsOpenPopupProfile] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsOpenPopupPlace] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(false);\n    const [imageData, setImageData] = React.useState(null)\n    \n    const [cards, setCards] = React.useState([])\n    const [currentUser,  setCurrentUser] = React.useState({}); \n\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n    const [email, setEmail] = React.useState('');\n    const [isRequestSuccessful, setisRequestSuccessful] = React.useState(false);\n\n    React.useEffect(() => {\n        Promise.all([api.getUserInfoFromServer(), api.getCardsInformation()])\n            .then(res => {\n                // console.log(res)\n                setCurrentUser(res[0]);\n                setCards(res[1]);\n            })\n            .catch((err) => console.error(err));\n      }, []);\n\n    function handleEditAvatarClick() {\n        setIsOpenPopupAvatar(true);\n    }\n    \n    function handleAddPlaceClick() {\n        setIsOpenPopupPlace(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsOpenPopupProfile(true);\n    }\n\n    function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        \n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n            // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          // Обновляем стейт\n          setCards(newCards);\n        })\n        .catch((err) => console.error(err));\n    } \n\n    function handleCardDelete(card) {\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.deleteCard(card._id)\n            .then(() => {\n                setCards(cards.filter(c => c._id !== card._id));\n        })\n        .catch((err) => console.error(err));\n    }\n    \n    function handleUpdateUser(userData) {\n        api.setUserInfoOnServer(userData.name, userData.about)\n            .then(res => {\n                setCurrentUser(res);\n                closeAllPopups();\n                closeAllPopups()\n        })\n        .catch((err) => console.error(err))\n    }\n\n    function handleUpdateAvatar(userData) {\n        api.editProfileAvatar(userData.avatar)\n            .then(res => {\n                setCurrentUser(res);\n                closeAllPopups()\n        })\n        .catch((err) => console.error(err))\n\n    }\n\n    function handleAddPlaceSubmit(cardData) {\n        // console.log(cards);\n        api.addCards(cardData.name, cardData.link)\n            .then(card => {\n                setCards([card, ...cards]);\n                closeAllPopups()\n        })\n        .catch((err) => console.error(err))\n    }\n\n    function handleCardClick(card) {        \n        setSelectedCard(true);\n        setImageData(card);\n    }\n\n    function closeAllPopups() {\n        setIsOpenPopupAvatar(false);\n        setIsOpenPopupProfile(false);\n        setIsOpenPopupPlace(false);\n        setSelectedCard(null);\n        setIsInfoTooltipOpen(false)\n    }\n\n    function handleRegister(email, password) {\n        auth.register(email, password)\n        .then((res) => {\n            if (res.data) {\n                setisRequestSuccessful(true);\n                setIsInfoTooltipOpen(true);\n                history.push('/sign-in');\n            }\n        })\n        .catch((err) => {\n            console.log(`Ошибка: ${err}`);\n            setisRequestSuccessful(false);\n            setIsInfoTooltipOpen(true);\n        })\n    }\n\n    const handleLogin = (email, password) => {\n        auth.authorize(email, password)\n            .then((res) => {\n                if (res.token) {\n                    setLoggedIn(true);\n                    localStorage.setItem('jwt', res.token);\n                    history.push('/')\n                }\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n                setIsInfoTooltipOpen(true);\n                setisRequestSuccessful(false);\n            })\n    }\n    \n    function handleLogout() {\n        setLoggedIn(false)\n        setEmail(email)\n        localStorage.removeItem('jwt')\n        history.push('/sign-in')\n    }\n\n    function handleCheckToken() {\n        const jwt = localStorage.getItem('jwt')\n        if (jwt) {\n          auth.getContent(jwt)\n            .then((res) => {\n                if (res) {\n                    setLoggedIn(true)\n                    setEmail(res.data.email)\n                    history.push('/')\n                }\n            })\n            .catch((err) => {\n              console.log(err)\n            })\n        }\n    }\n    \n    React.useEffect(() => {\n        handleCheckToken()\n    }, [loggedIn])\n\n    return (\n        <div className=\"page\">\n            <CurrentUserContext.Provider value={currentUser}>\n                <Header \n                    email={email} \n                    loggedOut={handleLogout} \n                    loggedIn={loggedIn}\n                />\n                    <Switch>\n                        \n                        <ProtectedRoute\n                            exact path='/'\n                            loggedIn={loggedIn}\n                            component={Main}\n                            onEditAvatar={handleEditAvatarClick}\n                            onEditProfile={handleEditProfileClick}\n                            onAddPlace={handleAddPlaceClick}\n                            onCardClick={handleCardClick}\n                            onCardList={cards}\n                            onCardLike={handleCardLike}\n                            onDeleteCard={handleCardDelete}\n                        >\n                        </ProtectedRoute>\n\n                        <Route path='/sign-in'>\n                            <Login handleLogin={handleLogin} setEmail={setEmail} />\n                        </Route>\n\n                        <Route path='/sign-up'>\n                            <Register handleRegister={handleRegister} />\n                        </Route>\n\n                        <Route>\n                            {loggedIn ? <Redirect to='/' /> : <Redirect to='/sign-in' />}\n                        </Route>\n                    </Switch>\n                    \n\n\n                <EditProfilePopup \n                    isOpen={isEditProfilePopupOpen} \n                    onClose={closeAllPopups} \n                    onUpdateUser={handleUpdateUser}\n                /> \n\n                <EditAvatarPopup \n                    isOpen={isEditAvatarPopupOpen} \n                    onClose={closeAllPopups} \n                    onUpdateAvatar={handleUpdateAvatar}\n                /> \n\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddCard={handleAddPlaceSubmit}\n                />\n\n                <ImagePopup\n                    card={imageData}\n                    isOpen={selectedCard}\n                    onClose={closeAllPopups}\n                />\n\n                <InfoTooltip \n                    isRequestSuccessful={isRequestSuccessful} \n                    isOpen={isInfoTooltipOpen} \n                    onClose={closeAllPopups} \n                />\n\n\n            </CurrentUserContext.Provider>\n\n            <Footer />\n        </div>\n    );\n}\n\nexport default App;\n ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}